<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Choose a new password</title>
  <style>
    body { font-family: sans-serif; max-width: 420px; margin: 2rem auto; line-height: 1.5; }
    form { display: grid; gap: 0.75rem; }
    input { width: 100%; padding: 0.55rem; border: 1px solid #ccc; border-radius: 6px; }
    button { padding: 0.6rem; border: none; border-radius: 6px; background: #0d6efd; color: #fff; cursor: pointer; }
    button:hover { background: #0b5ed7; }
    .errors { color: #b00020; }
  </style>
</head>
<body>
  <h1>Set a new password</h1>
  {% if validlink %}
    <form method="post">
      {% csrf_token %}
      {% if form.non_field_errors %}
        <div class="errors">
          {% for err in form.non_field_errors %}<div>{{ err }}</div>{% endfor %}
        </div>
      {% endif %}
      {{ form.new_password1.label_tag }}<br>
      {{ form.new_password1 }}<br>
      {{ form.new_password1.errors }}
      {{ form.new_password2.label_tag }}<br>
      {{ form.new_password2 }}<br>
      {{ form.new_password2.errors }}
      <button type="submit">Update password</button>
    </form>
  {% else %}
    <p>The reset link is invalid or has expired. Please request a new one.</p>
  {% endif %}
  <p><a href="{% url 'login' %}">Back to login</a></p>
</body>
</html>
